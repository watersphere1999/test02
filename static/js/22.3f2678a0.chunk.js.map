{"version":3,"sources":["pages/SearchQuick/SearchQuick.js","components/Lists/TrailCard.js","components/TopBar/BackArrow.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","mask","boxShadow","backgroundColor","objectFit","height","position","collectionContent","marginTop","padding","overflow","title","color","fontSize","fontWeight","lineHeight","letterSpacing","descText","list","backArrow","iconImg","right","bottom","width","obj","mapple","chellenge","hotSpring","family","forest","sakura","SearchQuick","props","classes","id","match","params","history","useHistory","useState","searchQuick","setSearchQuick","trail","setTrail","searchApi","a","demoapi","get","then","res","data","trailApi","trails","useEffect","className","style","top","left","edge","aria-label","onClick","goBack","name","src","iconImage","map","gridCell","marginBottom","location","distance","divider","margin","spacing","background","favorite","transform","mediaAvatar","marginRight","float","borderRadius","minWidth","maxWidth","TrailCard","checked","setChecked","container","direction","justify","alignItems","item","xs","coverImage","alt","thumb","onChange","uid","localStorage","getItem","post","console","log","status","handleChange","icon","checkedIcon","county","BackArrow"],"mappings":"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","file":"static/js/22.3f2678a0.chunk.js","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport { Toolbar, Typography,IconButton } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Grid, CardActionArea } from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport TrailCard from \"../../components/Lists/TrailCard\";\r\nimport BackArrow from \"../../components/TopBar/BackArrow\";\r\nimport family from \"../../asset/img/icon-family.png\";\r\nimport mapple from \"../../asset/img/icon-mapple.png\";\r\nimport chellenge from \"../../asset/img/icon-chellenge.png\";\r\nimport hotSpring from \"../../asset/img/icon-hot-spring.png\";\r\nimport forest from \"../../asset/img/icon-forest.png\";\r\nimport sakura from \"../../asset/img/icon-sakura.png\";\r\nimport demoapi from \"axios/api\";//引入api\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Link } from \"react-router-dom\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  mask: {\r\n    boxShadow: \"none\",\r\n    backgroundColor: \"#ffeddc\",\r\n    objectFit: \"cover\",\r\n    height: 176,\r\n    position: \"relative\",\r\n  },\r\n  collectionContent: {\r\n    marginTop: 61,\r\n    position: \"relative\",\r\n    padding: 8,\r\n    height: 120,\r\n    overflow: \"hidden\",\r\n  },\r\n  title: {\r\n    color: \"black\",\r\n    fontSize: 16,\r\n    fontWeight: \"bold\",\r\n    padding: 8,\r\n    lineHeight: 1.5,\r\n    letterSpacing: 0.5,\r\n    marginTop: \"-1px\",\r\n  },\r\n  descText: {\r\n    color: \"black\",\r\n    padding: 8,\r\n    lineHeight: 1.5,\r\n    letterSpacing: 0.5,\r\n    fontSize: 14,\r\n  },\r\n\r\n  list: {\r\n    padding: \"5%\",\r\n  },\r\n  backArrow: {\r\n    color: \"#232323\",\r\n  },\r\n\r\n  iconImg: {\r\n    position: \"absolute\",\r\n    right: 0,\r\n    bottom: -40,\r\n    width: 142,\r\n    height: 142,\r\n    overflow: \"hidden\",\r\n  },\r\n}));\r\n\r\n\r\nconst obj = {\r\n  \"mapple.png\": mapple,\r\n  \"chellenge.png\": chellenge,\r\n  \"hotSpring.png\": hotSpring,\r\n  \"family.png\": family,\r\n  \"forest.png\": forest,\r\n  \"sakura.png\": sakura,\r\n};\r\n\r\nfunction SearchQuick(props) {\r\n  const classes = useStyles();\r\n  const id = props.match.params.id;\r\n  const history = useHistory();\r\n  //搜尋結果hook\r\n  const [searchQuick, setSearchQuick] = useState([]);\r\n  const [trail, setTrail] = useState([]);\r\n  const searchApi = async (id) => {\r\n    await demoapi.get(\"/api/collection/\" + id+\"&uuid=1\").then((res) => {\r\n      setSearchQuick(res.data);\r\n    });\r\n  };\r\n  const trailApi = async (id) => {\r\n    await demoapi.get(\"/api/classification/\" + id+\"&uuid=1\").then((res) => {\r\n      \r\n      setTrail(res.data.trails);\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    searchApi(id);\r\n    trailApi(id);\r\n  }, [id]);\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.root}>\r\n        <AppBar className={classes.mask} position=\"static\">\r\n          <Toolbar\r\n            style={{\r\n              position: \"fixed\",\r\n              top: 0,\r\n              left: 0,\r\n              right: 0,\r\n              \r\n            }}\r\n          >\r\n            <IconButton\r\n              edge=\"start\"\r\n              className={classes.backArrow}\r\n              aria-label=\"back to previous page\"\r\n              onClick={() => {\r\n                history.goBack();\r\n              }}\r\n          \r\n            >\r\n              <BackArrow />\r\n            </IconButton>\r\n          </Toolbar>\r\n       \r\n          <div className={classes.collectionContent}>\r\n            <Typography className={classes.title}>\r\n              {searchQuick.name}步道\r\n            </Typography>\r\n            <Typography className={classes.descText}>\r\n              老少咸宜，生活好去處。\r\n            </Typography>\r\n            <img\r\n              src={ obj[searchQuick.iconImage]}\r\n              className={classes.iconImg}\r\n              \r\n            />\r\n          </div>\r\n        </AppBar>\r\n\r\n        <Grid className={classes.list}>\r\n          {/* 步道list component */}\r\n          {trail.map(trail => (\r\n              <TrailCard data={trail} />\r\n            ))}\r\n        </Grid>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SearchQuick;\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Grid, Divider } from \"@material-ui/core\";\r\nimport { Favorite, FavoriteBorder } from \"@material-ui/icons\";\r\nimport { Checkbox } from \"@material-ui/core\";\r\nimport demoapi from \"axios/api\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: \"100%\"\r\n  },\r\n  gridCell: {\r\n    marginBottom: 14\r\n  },\r\n  title: {\r\n    fontSize: 16,\r\n    fontWeight: 500\r\n  },\r\n  location: {\r\n    fontSize: 14,\r\n    color: \"#979797\"\r\n  },\r\n  distance: {\r\n    fontSize: 12,\r\n    color: \"#979797\"\r\n  },\r\n  divider: {\r\n    margin: theme.spacing(2, 0)\r\n  },\r\n  background: {\r\n    height: \"1px\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0.12)\"\r\n  },\r\n  favorite: {\r\n    color: \"#FFF\",\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%, -50%)\"\r\n  },\r\n  mediaAvatar: {\r\n    position: \"relative\",\r\n    marginRight: 16,\r\n    float: \"right\",\r\n    \"& img\": {\r\n      borderRadius: \"4px\",\r\n      minWidth: \"104px\",\r\n      width: \"100%\",\r\n      height: \"72px\",\r\n      objectFit: \"cover\",\r\n      maxWidth: \"300px\"\r\n    }\r\n  }\r\n}));\r\n\r\nconst TrailCard = props => {\r\n  const classes = useStyles();\r\n  //api回傳資料\r\n  const data = props.data;\r\n  const [checked, setChecked] = useState(data.favorite);\r\n  const handleChange = id => {\r\n    const uid = localStorage.getItem(\"userid\")\r\n      ? localStorage.getItem(\"userid\")\r\n      : 1;\r\n    setChecked(!checked);\r\n    demoapi\r\n      .post(\"/api/favorite/?user_id=\" + uid + \"&trail_id=\" + id)\r\n      .then(res => {\r\n        console.log(res.status);\r\n      });\r\n  };\r\n  return (\r\n    <div className={classes.root}>\r\n      <>\r\n        <Grid\r\n          key={data.id}\r\n          container\r\n          direction=\"row\"\r\n          justify=\"flex-end\"\r\n          alignItems=\"flex-start\"\r\n          className={classes.gridCell}\r\n          item\r\n          xs={12}\r\n        >\r\n          <Grid item xs={4}>\r\n            <div className={classes.mediaAvatar}>\r\n              <img\r\n                src={data.coverImage}\r\n                alt={data.title}\r\n                className={classes.thumb}\r\n              />\r\n              <Checkbox\r\n                checked={checked}\r\n                onChange={() => {\r\n                  handleChange(data.id);\r\n                }}\r\n                icon={<FavoriteBorder fontSize={\"small\"} />}\r\n                checkedIcon={\r\n                  <Favorite fontSize={\"small\"} style={{ color: \"#FFF\" }} />\r\n                }\r\n                className={classes.favorite}\r\n                name=\"favorite\"\r\n              />\r\n            </div>\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={8}\r\n            container\r\n            direction=\"column\"\r\n            alignItems=\"flex-start\"\r\n          >\r\n            <Grid item xs={12} className={classes.title}>\r\n              <div style={{ marginTop: 2 }}>{data.title}</div>\r\n            </Grid>\r\n            <Grid item xs={12} className={classes.location}>\r\n              <div style={{ marginTop: 2 }}>\r\n                {data.location ? data.location.county.name : \"\"}{data.location ? data.location.name : \"\"}\r\n              </div>\r\n            </Grid>\r\n            <Grid item xs={12} className={classes.distance}>\r\n              <div style={{ marginTop: 2 }}>全程約{data.distance}公里</div>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item xs={4} />\r\n          <Grid item xs={8}>\r\n            <Divider />\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    </div>\r\n  );\r\n};\r\nexport default TrailCard;\r\n","import React from \"react\";\r\n// import { makeStyles } from \"@material-ui/core/styles\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\n\r\n// const useStyles = makeStyles((theme) => ({\r\n// }));\r\n\r\nfunction BackArrow(props) {\r\n  \r\n  return (\r\n    <ArrowBackIcon style={{color:\"#000\"}} />\r\n  );\r\n}\r\nexport default BackArrow;\r\n"],"sourceRoot":""}