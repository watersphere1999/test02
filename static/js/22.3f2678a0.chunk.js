(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[22],{1077:function(t,e,a){"use strict";a.r(e);var i=a(27),n=a.n(i),c=a(44),o=a(24),s=a(0),r=a(345),l=a(349),d=a(228),j=a(74),m=a(175),u=a(591),b=(a(123),a(627)),h=a(638),g=a(270),p=a(267),f=a(268),x=a(269),O=a(271),v=a(272),k=a(85),w=a(25),N=a(3),S=Object(m.a)((function(t){return{root:{flexGrow:1},mask:{boxShadow:"none",backgroundColor:"#ffeddc",objectFit:"cover",height:176,position:"relative"},collectionContent:{marginTop:61,position:"relative",padding:8,height:120,overflow:"hidden"},title:{color:"black",fontSize:16,fontWeight:"bold",padding:8,lineHeight:1.5,letterSpacing:.5,marginTop:"-1px"},descText:{color:"black",padding:8,lineHeight:1.5,letterSpacing:.5,fontSize:14},list:{padding:"5%"},backArrow:{color:"#232323"},iconImg:{position:"absolute",right:0,bottom:-40,width:142,height:142,overflow:"hidden"}}})),y={"mapple.png":p.a,"chellenge.png":f.a,"hotSpring.png":x.a,"family.png":g.a,"forest.png":O.a,"sakura.png":v.a};e.default=function(t){var e=S(),a=t.match.params.id,i=Object(w.k)(),m=Object(s.useState)([]),g=Object(o.a)(m,2),p=g[0],f=g[1],x=Object(s.useState)([]),O=Object(o.a)(x,2),v=O[0],F=O[1],I=function(){var t=Object(c.a)(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get("/api/collection/"+e+"&uuid=1").then((function(t){f(t.data)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(c.a)(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get("/api/classification/"+e+"&uuid=1").then((function(t){F(t.data.trails)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){I(a),C(a)}),[a]),Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:e.root,children:[Object(N.jsxs)(r.a,{className:e.mask,position:"static",children:[Object(N.jsx)(l.a,{style:{position:"fixed",top:0,left:0,right:0},children:Object(N.jsx)(d.a,{edge:"start",className:e.backArrow,"aria-label":"back to previous page",onClick:function(){i.goBack()},children:Object(N.jsx)(h.a,{})})}),Object(N.jsxs)("div",{className:e.collectionContent,children:[Object(N.jsxs)(j.a,{className:e.title,children:[p.name,"\u6b65\u9053"]}),Object(N.jsx)(j.a,{className:e.descText,children:"\u8001\u5c11\u54b8\u5b9c\uff0c\u751f\u6d3b\u597d\u53bb\u8655\u3002"}),Object(N.jsx)("img",{src:y[p.iconImage],className:e.iconImg})]})]}),Object(N.jsx)(u.a,{className:e.list,children:v.map((function(t){return Object(N.jsx)(b.a,{data:t})}))})]})})}},627:function(t,e,a){"use strict";var i=a(24),n=a(0),c=a(175),o=a(591),s=a(346),r=a(356),l=a(355),d=a(608),j=a(85),m=a(3),u=Object(c.a)((function(t){return{root:{width:"100%"},gridCell:{marginBottom:14},title:{fontSize:16,fontWeight:500},location:{fontSize:14,color:"#979797"},distance:{fontSize:12,color:"#979797"},divider:{margin:t.spacing(2,0)},background:{height:"1px",backgroundColor:"rgba(0, 0, 0, 0.12)"},favorite:{color:"#FFF",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},mediaAvatar:{position:"relative",marginRight:16,float:"right","& img":{borderRadius:"4px",minWidth:"104px",width:"100%",height:"72px",objectFit:"cover",maxWidth:"300px"}}}}));e.a=function(t){var e=u(),a=t.data,c=Object(n.useState)(a.favorite),b=Object(i.a)(c,2),h=b[0],g=b[1];return Object(m.jsx)("div",{className:e.root,children:Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(o.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-start",className:e.gridCell,item:!0,xs:12,children:[Object(m.jsx)(o.a,{item:!0,xs:4,children:Object(m.jsxs)("div",{className:e.mediaAvatar,children:[Object(m.jsx)("img",{src:a.coverImage,alt:a.title,className:e.thumb}),Object(m.jsx)(d.a,{checked:h,onChange:function(){!function(t){var e=localStorage.getItem("userid")?localStorage.getItem("userid"):1;g(!h),j.a.post("/api/favorite/?user_id="+e+"&trail_id="+t).then((function(t){console.log(t.status)}))}(a.id)},icon:Object(m.jsx)(r.a,{fontSize:"small"}),checkedIcon:Object(m.jsx)(l.a,{fontSize:"small",style:{color:"#FFF"}}),className:e.favorite,name:"favorite"})]})}),Object(m.jsxs)(o.a,{item:!0,xs:8,container:!0,direction:"column",alignItems:"flex-start",children:[Object(m.jsx)(o.a,{item:!0,xs:12,className:e.title,children:Object(m.jsx)("div",{style:{marginTop:2},children:a.title})}),Object(m.jsx)(o.a,{item:!0,xs:12,className:e.location,children:Object(m.jsxs)("div",{style:{marginTop:2},children:[a.location?a.location.county.name:"",a.location?a.location.name:""]})}),Object(m.jsx)(o.a,{item:!0,xs:12,className:e.distance,children:Object(m.jsxs)("div",{style:{marginTop:2},children:["\u5168\u7a0b\u7d04",a.distance,"\u516c\u91cc"]})})]}),Object(m.jsx)(o.a,{item:!0,xs:4}),Object(m.jsx)(o.a,{item:!0,xs:8,children:Object(m.jsx)(s.a,{})})]},a.id)})})}},638:function(t,e,a){"use strict";a(0);var i=a(98),n=a.n(i),c=a(3);e.a=function(t){return Object(c.jsx)(n.a,{style:{color:"#000"}})}}}]);
//# sourceMappingURL=22.3f2678a0.chunk.js.map