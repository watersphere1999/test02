(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{169:function(e,t,a){"use strict";var n=a(136),r=a.n(n).a.create({baseURL:"http://ace033ded550.ngrok.io/",headers:{"X-Secure-Code":"12345678"}});t.a=r},444:function(e,t){},530:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(16),c=a(221),i=a(222),o=a(227),s=a(228),l=a(367),d=a.n(l),u=a(369),j=a.n(u),b=a(206),p=a.n(b),h=[{locale:"en",messages:a.e(32).then(a.bind(null,1060))},{locale:"ru",messages:a.e(33).then(a.bind(null,1061))},{locale:"de",messages:a.e(31).then(a.bind(null,1062))}],m=a(84),x=a.n(m),g=a(74),f=a.n(g),O=a(21),y=a(355),v=a(208),I=a(5),w=a(566),k=a(580),_=a(329),C=a(379),T=a(310),N=a(92),L=a.n(N),M=a(328),P=a(332),z=a(68),D=a(211),S=a(373),R=a.n(S),B=a(324),A=a(36),V=a(24),G=a(229),F=a(316),U=a(317),E=a(321),H=a(319),J=a(318),q=a(577),Q=a(573),X=a(6),Z=Object(v.a)((function(e){return{root:{flexGrow:1},alertShown:{opacity:1,transition:"all 250ms linear",zIndex:1},alertHidden:{opacity:0,transition:"all 250ms linear"}}})),$=Object(I.a)((function(e){return{root:{margin:0,padding:e.spacing(2)}}}))((function(e){var t=e.children,a=e.classes,n=(e.onClose,Object(G.a)(e,["children","classes","onClose"]));return Object(X.jsx)(E.a,Object(V.a)(Object(V.a)({disableTypography:!0,className:a.root},n),{},{children:Object(X.jsx)(z.a,{variant:"h6",children:t})}))})),K=Object(I.a)((function(e){return{root:{padding:e.spacing(2),width:286}}}))(H.a),W=Object(I.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(J.a),Y=function(e){Z();var t=e.isOpen,a=e.closeDialog,r=e.triggerImageInput,c=e.inputRef,i=e.pData;console.log(i);var o=Object(n.useState)(null),s=Object(A.a)(o,2),l=s[0],d=s[1],u=Object(n.useState)(!1),j=Object(A.a)(u,2),b=j[0],p=j[1];return l?Object(X.jsx)(O.c,{to:{pathname:"/cropAvatar",state:{image:l,pData:i}}}):Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(U.a,{onClose:a,"aria-labelledby":"customized-dialog-title",open:t,children:[Object(X.jsx)($,{id:"customized-dialog-title",onClose:!0,children:"\u7de8\u8f2f\u500b\u4eba\u6a94\u6848\u5716\u7247"}),Object(X.jsx)(K,{children:Object(X.jsx)(z.a,{style:{color:"#919191"},gutterBottom:!0,children:"\u8acb\u9078\u64c7\u60a8\u7684\u500b\u4eba\u982d\u8cbc"})}),Object(X.jsx)(W,{children:Object(X.jsx)(F.a,{autoFocus:!0,onClick:!1,style:{color:"#007aff"},children:"\u62cd\u651d\u76f8\u7247"})}),Object(X.jsxs)(W,{children:[Object(X.jsx)("input",{ref:c,type:"file",id:"avatar_img",name:"avatar_img",accept:"image/*",onChange:function(e){!function(e){e.target.files[0]&&(e.target.files[0].size>1048576?p(!0):d(URL.createObjectURL(e.target.files[0])))}(e)},hidden:!0}),Object(X.jsx)(F.a,{autoFocus:!0,onClick:r,style:{color:"#007aff"},children:"\u5f9e\u76f8\u7c3f\u4e2d\u9078\u53d6"})]}),Object(X.jsx)(W,{children:Object(X.jsx)(F.a,{autoFocus:!0,onClick:a,style:{color:"#007aff"},children:"\u53d6\u6d88"})})]}),Object(X.jsx)(Q.a,{open:b,autoHideDuration:3e3,onClose:function(e,t){"clickaway"!==t&&p(!1)},children:Object(X.jsx)(q.a,{severity:"error",children:"\u5716\u7247\u4e0d\u53ef\u5927\u65bc1mb! \u8acb\u91cd\u65b0\u9078\u64c7\u5716\u7247\u3002"})})]})},ee=function(){var e=Object(n.useState)(!1),t=Object(A.a)(e,2),a=t[0],r=t[1],c=Object(n.useRef)();return{isOpen:a,openDialog:function(){r(!0)},closeDialog:function(){r(!1)},inputRef:c,triggerImageInput:function(){c.current.click()}}},te=a(31),ae=a.n(te),ne=a(52),re=a(169),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(n.useState)(!e),a=Object(A.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(e||{}),o=Object(A.a)(i,2),s=o[0],l=o[1],d=Object(n.useState)(""),u=Object(A.a)(d,2),j=u[0],b=u[1],p=Object(n.useState)(""),h=Object(A.a)(p,2),m=h[0],x=h[1],g=Object(n.useState)(""),f=Object(A.a)(g,2),O=f[0],y=f[1],v=Object(n.useState)(""),I=Object(A.a)(v,2),w=I[0],k=(I[1],Object(n.useState)("")),_=Object(A.a)(k,2),C=_[0];_[1];Object(n.useEffect)((function(){e||T()}),[e]);var T=function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userId")?localStorage.getItem("userId"):1,e.next=3,re.a.get("/api/user/"+t).then((function(e){c(!1),e.data.users.gender=e.data.users.gender?"\u7537":"\u5973",console.log(e.data.users.name),l(e.data)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){var t=e.target.value;l(Object(V.a)(Object(V.a)({},s),{},{users:Object(V.a)(Object(V.a)({},s.users),{},{name:t})})),b(""==t?"\u59d3\u540d\u4e0d\u53ef\u70ba\u7a7a":"")},L=function(e){var t=e.target.value;l(Object(V.a)(Object(V.a)({},s),{},{users:Object(V.a)(Object(V.a)({},s.users),{},{gender:t})})),x("\u7537"==t||"\u5973"==t?"":"\u8acb\u586b\u5165 \u7537 \u6216 \u5973")},M=function(e){var t=e.target.value;l(Object(V.a)(Object(V.a)({},s),{},{users:Object(V.a)(Object(V.a)({},s.users),{},{phone_number:t})}));var a=new RegExp(/^\d*$/).test(t);y(a?"":"\u53ea\u5141\u8a31\u6578\u5b57")},P=function(e){var t=e.target.value;l(Object(V.a)(Object(V.a)({},s),{},{users:Object(V.a)(Object(V.a)({},s.users),{},{birth:t})}))},z=function(e){var t=e.target.value;l(Object(V.a)(Object(V.a)({},s),{},{users:Object(V.a)(Object(V.a)({},s.users),{},{county:Object(V.a)(Object(V.a)({},s.users.county),{},{name:t})})}))},D=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))},S=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a,n,r,i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(!0),a=localStorage.getItem("userId")?localStorage.getItem("userId"):1,!t.croppedImage){e.next=11;break}return e.next=5,fetch(t.croppedImage).then((function(e){return e.blob()}));case 5:return n=e.sent,r=new File([n],"1234567890.jpg",{lastModified:new Date,type:"image/jpeg"}),e.next=9,D(r);case 9:i=e.sent,t.croppedImage=i;case 11:return e.abrupt("return",re.a.put("/api/user/"+a,{name:t.name,gender:t.gender,phone_number:t.phone_number,birth:t.birth,image:t.croppedImage?t.croppedImage:t.image,county:t.county,country_code_id:t.countryCode}).then((function(e){return e.status})));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{isLoading:r,personalInfo:s,handleNameChange:N,handleSexChange:L,handleTelChange:M,handleBirthChange:P,handleCountyChange:z,updateInfo:S,getPersonalInfo:T,validations:{nameValidation:j,genderValidation:m,phoneValidation:O,birthValidation:w,countyValidation:C}}},ie=Object(v.a)((function(e){return{root:{flexGrow:1},top_bar_bg_color:{backgroundColor:"#3c5754",height:56},textfield_container:{marginTop:15,background:"white"},title:{flexGrow:1,marginLeft:32},avatar:{width:96,height:96},gridMargin:{marginTop:32},textfield:{marginTop:8,marginBottom:8,paddingLeft:24,flexGrow:1,width:"100%"},textfield_phone:{marginTop:8,marginBottom:8,flexGrow:1,width:"100%"},textfield_country_code:{marginTop:8,marginBottom:8},textLabel:{paddingLeft:15},finishButton:{padding:0,paddingLeft:40},avatarOverlay:{position:"absolute",bottom:0,height:"20%",width:"100%",backgroundColor:"black",textAlign:"center",verticalAlign:"middle",lineHeight:"150%",color:"white",fontSize:12,opacity:"80%"},avatarContainer:{background:"yellow",width:96,height:96,position:"relative",borderRadius:"50% 50%",margin:0,padding:0,zIndex:100,overflow:"hidden"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),oe=Object(I.a)({root:{"& .MuiInputBase-root.Mui-disabled":{color:"rgba(0, 0, 0, 1)"},"& .MuiInput-underline.Mui-disabled:before":{borderBottom:"solid 1px rgba(0, 0, 0, 0.12)"}}})(B.a);var se=function(e){var t=Object(O.k)(),a=ce(),n=void 0===e.location.state?null:e.location.state.croppedImage;n&&(e.location.state.croppedImage=null,-1==n.search("blob:")&&(Object(y.a)("croppedImage"),n=null));var r=ee(),c=r.isOpen,i=(r.openDialog,r.closeDialog),o=r.inputRef,s=r.triggerImageInput,l=ie();return Object(X.jsxs)("div",{className:l.root,children:[Object(X.jsx)(M.a,{position:"static",style:{background:"#3c5754"},children:Object(X.jsxs)(P.a,{children:[Object(X.jsx)(D.a,{edge:"start",color:"inherit","aria-label":"back",onClick:function(){return t.goBack()},children:Object(X.jsx)(L.a,{})}),Object(X.jsx)(z.a,{variant:"h6",className:l.title,children:"\u500b\u4eba\u6a94\u6848"}),Object(X.jsx)(D.a,{color:"inherit",edge:"end",onClick:function(){t.push({pathname:"/editAccount",state:{pData:a.personalInfo}})},children:Object(X.jsx)(R.a,{})})]})}),Object(X.jsxs)(w.a,{container:!0,direction:"column",alignItems:"center",justify:"flex-start",className:l.gridMargin,children:[Object(X.jsxs)(w.a,{item:!0,xs:12,container:!0,direction:"column",alignItems:"center",justify:"flex-start",spacing:2,children:[Object(X.jsx)(w.a,{item:!0,xs:12,children:Object(X.jsx)("div",{className:l.avatarContainer,children:Object(X.jsx)(k.a,{src:null==n?a.personalInfo.users?a.personalInfo.users.image:"":n,className:l.avatar})})}),Object(X.jsx)(w.a,{item:!0,xs:12,container:!0,direction:"column",alignItems:"center",justify:"flex-start",spacing:.5,children:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(w.a,{item:!0,xs:12,children:Object(X.jsx)(z.a,{variant:"h6",style:{color:"#232323"},children:a.personalInfo.users?a.personalInfo.users.name:"loading"})}),Object(X.jsx)(w.a,{item:!0,xs:12,children:Object(X.jsx)(z.a,{variant:"h7",style:{color:"#919191"},children:a.personalInfo.users?a.personalInfo.users.email:"loading"})})]})})]}),Object(X.jsx)(w.a,{item:!0,xs:12,container:!0,direction:"column",alignItems:"center",justify:"flex-start",children:Object(X.jsxs)(w.a,{item:!0,xs:12,container:!0,direction:"row",alignItems:"center",justify:"flex-start",className:l.textfield_container,spacing:0,children:[Object(X.jsx)(w.a,{item:!0,xs:12,children:Object(X.jsx)(_.a,{})}),Object(X.jsx)(w.a,{item:!0,xs:3,children:Object(X.jsx)(z.a,{variant:"body1",className:l.textLabel,children:"\u59d3\u540d"})}),Object(X.jsx)(w.a,{item:!0,xs:9,children:Object(X.jsx)(oe,{disabled:!0,id:"standard-basic",placeholder:"\u59d3\u540d",className:l.textfield,inputProps:{value:void 0===a.personalInfo.users?"":a.personalInfo.users.name,underline:{color:"red","&::before":{borderBottom:"2px solid red"}}}})}),Object(X.jsx)(w.a,{item:!0,xs:3,children:Object(X.jsx)(z.a,{variant:"body1",className:l.textLabel,children:"\u6027\u5225"})}),Object(X.jsx)(w.a,{item:!0,xs:9,children:Object(X.jsx)(oe,{disabled:!0,id:"standard-basic",placeholder:"\u6027\u5225",className:l.textfield,inputProps:{value:void 0===a.personalInfo.users?"":a.personalInfo.users.gender,readOnly:!0}})}),Object(X.jsx)(w.a,{item:!0,xs:3,children:Object(X.jsx)(z.a,{variant:"body1",className:l.textLabel,children:"\u570b\u78bc"})}),Object(X.jsx)(w.a,{item:!0,xs:9,children:Object(X.jsxs)("div",{className:l.textfield,children:[Object(X.jsx)(oe,{disabled:!0,placeholder:"\u570b\u78bc",labelId:"country-code",id:"country-code",style:{width:"30%"},className:l.textfield_country_code,inputProps:{value:void 0===a.personalInfo.users?"":a.personalInfo.countrycodes[a.personalInfo.users.country_code_id-1].phone_code}}),Object(X.jsx)(oe,{disabled:!0,id:"standard-basic",placeholder:"\u624b\u6a5f",style:{width:"70%"},className:l.textfield_phone,inputProps:{value:void 0===a.personalInfo.users?"":a.personalInfo.users.phone_number}})]})}),Object(X.jsx)(w.a,{item:!0,xs:3,children:Object(X.jsx)(z.a,{variant:"body1",className:l.textLabel,children:"\u751f\u65e5"})}),Object(X.jsx)(w.a,{item:!0,xs:9,children:Object(X.jsx)(oe,{disabled:!0,id:"standard-basic",placeholder:"\u751f\u65e5",className:l.textfield,type:"date",InputLabelProps:{shrink:!0},inputProps:{value:void 0===a.personalInfo.users?"":a.personalInfo.users.birth}})}),Object(X.jsx)(w.a,{item:!0,xs:3,children:Object(X.jsx)(z.a,{variant:"body1",className:l.textLabel,children:"\u5c45\u4f4f\u5730"})}),Object(X.jsx)(w.a,{item:!0,xs:9,children:Object(X.jsx)(oe,{disabled:!0,id:"standard-basic",placeholder:"\u5c45\u4f4f\u5730",className:l.textfield,inputProps:{value:void 0===a.personalInfo.users?"":a.personalInfo.users.county?a.personalInfo.users.county.name:""}})})]})})]}),Object(X.jsx)(Y,{isOpen:c,triggerImageInput:s,closeDialog:i,inputRef:o}),Object(X.jsx)(C.a,{className:l.backdrop,open:a.isLoading,children:Object(X.jsx)(T.a,{})})]})},le=a(370),de=Object(v.a)((function(e){return{root:{flexGrow:1},top_bar_bg_color:{backgroundColor:"#3c5754",height:56},textfield_container:{marginTop:15,background:"white"},title:{flexGrow:1,marginLeft:32},avatar:{width:96,height:96},gridMargin:{marginTop:32},textfield:{marginTop:8,marginBottom:8,paddingLeft:24,flexGrow:1,width:"100%"},textfield_phone:{marginTop:8,marginBottom:8,flexGrow:1,width:"100%"},textLabel:{paddingLeft:15},finishButton:{padding:0,paddingLeft:40},avatarOverlay:{position:"absolute",bottom:0,height:"20%",width:"100%",backgroundColor:"black",textAlign:"center",verticalAlign:"middle",lineHeight:"150%",color:"white",fontSize:12,opacity:"80%"},avatarContainer:{background:"yellow",width:96,height:96,position:"relative",borderRadius:"50% 50%",margin:0,padding:0,zIndex:100,overflow:"hidden"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));var ue=function(e){var t=Object(O.k)();void 0===e.location.state&&t.push({pathname:"/personalPage"});var a=e.location.state?e.location.state.pData:{},n=ce(a),r=n.personalInfo,c=n.handleNameChange,i=n.handleSexChange,o=n.handleTelChange,s=n.handleBirthChange,l=n.handleCountyChange,d=n.updateInfo,u=n.isLoading,j=n.validations;console.log(r);var b=void 0===e.location.state?null:e.location.state.croppedImage,p=ee(),h=p.isOpen,m=p.openDialog,x=p.closeDialog,g=p.inputRef,f=p.triggerImageInput,y=function(){var e=Object(ne.a)(ae.a.mark((function e(){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:r.users.name,gender:"\u7537"===r.users.gender?1:0,phone_number:r.users.phone_number,birth:r.users.birth,croppedImage:b,image:r.users.image,county:r.users.county.name,countryCode:document.getElementById("country-code").value},e.next=3,d(a);case 3:200==e.sent&&t.push({pathname:"/personalPage"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=de();return Object(X.jsxs)("div",{className:v.root,children:[Object(X.jsx)(M.a,{position:"static",style:{background:"#3c5754"},children:Object(X.jsxs)(P.a,{children:[Object(X.jsx)(D.a,{edge:"start",color:"inherit","aria-label":"back",onClick:function(){return t.goBack()},children:Object(X.jsx)(L.a,{})}),Object(X.jsx)(z.a,{variant:"h6",className:v.title,children:"\u500b\u4eba\u6a94\u6848"}),Object(X.jsx)(F.a,{className:v.finishButton,color:"inherit",edge:"end",onClick:function(){j.nameValidation||j.genderValidation||j.phoneValidation||y()},children:"\u5b8c\u6210"})]})}),Object(X.jsxs)(w.a,{container:!0,direction:"column",alignItems:"center",justify:"flex-start",className:v.gridMargin,children:[Object(X.jsxs)(w.a,{item:!0,xs:12,container:!0,direction:"column",alignItems:"center",justify:"flex-start",spacing:2,children:[Object(X.jsx)(w.a,{item:!0,xs:12,children:Object(X.jsxs)("div",{className:v.avatarContainer,children:[Object(X.jsx)(k.a,{src:b||(r.users?r.users.image:""),className:v.avatar}),Object(X.jsx)("div",{class:v.avatarOverlay,onClick:function(){m()},children:"\u66f4\u63db"})]})}),Object(X.jsx)(w.a,{item:!0,xs:12,container:!0,direction:"column",alignItems:"center",justify:"flex-start",spacing:.5,children:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(w.a,{item:!0,xs:12,children:Object(X.jsx)(z.a,{variant:"h7",style:{color:"#919191"},children:r.users?r.users.email:"loading"})}),Object(X.jsx)(w.a,{item:!0,xs:12,children:Object(X.jsx)("div",{style:{height:32}})})]})})]}),Object(X.jsx)(w.a,{item:!0,xs:12,container:!0,direction:"column",alignItems:"center",justify:"flex-start",children:Object(X.jsxs)(w.a,{item:!0,xs:12,container:!0,direction:"row",alignItems:"center",justify:"flex-start",className:v.textfield_container,spacing:0,children:[Object(X.jsx)(w.a,{item:!0,xs:12,children:Object(X.jsx)(_.a,{})}),Object(X.jsx)(w.a,{item:!0,xs:3,children:Object(X.jsx)(z.a,{variant:"body1",className:v.textLabel,children:"\u59d3\u540d"})}),Object(X.jsx)(w.a,{item:!0,xs:9,children:Object(X.jsx)(B.a,{id:"standard-basic",placeholder:"\u59d3\u540d",error:!!j.nameValidation,helperText:j.nameValidation?j.nameValidation:"",className:v.textfield,onChange:c,inputProps:{value:r.users?r.users.name:""}})}),Object(X.jsx)(w.a,{item:!0,xs:3,children:Object(X.jsx)(z.a,{variant:"body1",className:v.textLabel,children:"\u6027\u5225"})}),Object(X.jsx)(w.a,{item:!0,xs:9,children:Object(X.jsx)(B.a,{id:"standard-basic",error:!!j.genderValidation,helperText:j.genderValidation?j.genderValidation:"",placeholder:"\u6027\u5225",onChange:i,className:v.textfield,inputProps:{value:r.users?r.users.gender:""}})}),Object(X.jsx)(w.a,{item:!0,xs:3,children:Object(X.jsx)(z.a,{variant:"body1",className:v.textLabel,children:"\u570b\u78bc"})}),Object(X.jsx)(w.a,{item:!0,xs:9,children:Object(X.jsxs)("div",{className:v.textfield,children:[Object(X.jsxs)(le.a,{labelId:"country-code",id:"country-code",style:{width:"30%"},className:v.textfield,children:[Object(X.jsx)("option",{value:r.countrycodes[r.users.country_code_id-1].id,children:r.countrycodes[r.users.country_code_id-1].phone_code},"default"),r.countrycodes.map((function(e){return Object(X.jsx)("option",{value:e.id,children:e.phone_code},e.country_code+e.country_name)}))]}),Object(X.jsx)(B.a,{id:"standard-basic",placeholder:"\u624b\u6a5f",error:!!j.phoneValidation,helperText:j.phoneValidation?j.phoneValidation:"",style:{width:"70%"},className:v.textfield_phone,onChange:o,inputProps:{value:r.users?r.users.phone_number:""}})]})}),Object(X.jsx)(w.a,{item:!0,xs:3,children:Object(X.jsx)(z.a,{variant:"body1",className:v.textLabel,children:"\u751f\u65e5"})}),Object(X.jsx)(w.a,{item:!0,xs:9,children:Object(X.jsx)(B.a,{id:"standard-basic",placeholder:"\u751f\u65e5",className:v.textfield,type:"date",onChange:s,InputLabelProps:{shrink:!0},inputProps:{value:r.users?r.users.birth:""}})}),Object(X.jsx)(w.a,{item:!0,xs:3,children:Object(X.jsx)(z.a,{variant:"body1",className:v.textLabel,children:"\u5c45\u4f4f\u5730"})}),Object(X.jsx)(w.a,{item:!0,xs:9,children:Object(X.jsx)(B.a,{id:"standard-basic",placeholder:"\u5c45\u4f4f\u5730",onChange:l,className:v.textfield,inputProps:{value:r.users&&r.users.county?r.users.county.name:""}})})]})})]}),Object(X.jsx)(Y,{isOpen:h,triggerImageInput:f,closeDialog:x,inputRef:g,pData:r}),Object(X.jsx)(C.a,{className:v.backdrop,open:u,children:Object(X.jsx)(T.a,{})})]})},je=a(365),be=function(e){return new Promise((function(t,a){var n=new Image;n.addEventListener("load",(function(){return t(n)})),n.addEventListener("error",(function(e){return a(e)})),n.setAttribute("crossOrigin","anonymous"),n.src=e}))};function pe(e){return e*Math.PI/180}function he(e,t){return me.apply(this,arguments)}function me(){return(me=Object(ne.a)(ae.a.mark((function e(t,a){var n,r,c,i,o,s,l,d=arguments;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>2&&void 0!==d[2]?d[2]:0,e.next=3,be(t);case 3:return r=e.sent,c=document.createElement("canvas"),i=c.getContext("2d"),o=Math.max(r.width,r.height),s=o/2*Math.sqrt(2)*2,c.width=s,c.height=s,i.translate(s/2,s/2),i.rotate(pe(n)),i.translate(-s/2,-s/2),i.drawImage(r,s/2-.5*r.width,s/2-.5*r.height),l=i.getImageData(0,0,s,s),c.width=a.width,c.height=a.height,i.putImageData(l,Math.round(0-s/2+.5*r.width-a.x),Math.round(0-s/2+.5*r.height-a.y)),e.abrupt("return",new Promise((function(e){c.toBlob((function(t){e(URL.createObjectURL(t))}),"image/jpeg")})));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xe=Object(v.a)((function(e){return{root:{flexGrow:1},imgContainer:{display:"flex",justifyContent:"center",marginTop:88},title:{flexGrow:1,marginLeft:32},finishButton:{padding:0,paddingLeft:40}}})),ge=function(e){var t=Object(O.k)(),a=e.location.state?e.location.state.image:null;a||t.goBack();var r=e.location.state.pData,c=Object(n.useState)({x:0,y:0}),i=Object(A.a)(c,2),o=i[0],s=i[1],l=Object(n.useState)(1),d=Object(A.a)(l,2),u=d[0],j=d[1],b=Object(n.useState)(null),p=Object(A.a)(b,2),h=p[0],m=p[1],x=Object(n.useCallback)((function(e,t){m(t)}),[]),g=Object(n.useCallback)(Object(ne.a)(ae.a.mark((function t(){var n;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he(a,h);case 3:n=t.sent,console.log("donee",{croppedImage:n}),e.history.push({pathname:"/editAccount",state:{croppedImage:n,pData:r}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),[h]),f=xe();return Object(X.jsxs)("div",{className:f.root,children:[Object(X.jsx)(M.a,{className:f.appBar,position:"relative",style:{background:"#3c5754"},children:Object(X.jsxs)(P.a,{children:[Object(X.jsx)(D.a,{edge:"start",color:"inherit","aria-label":"back",onClick:function(){return t.push({pathname:"/editAccount",state:{pData:r}})},children:Object(X.jsx)(L.a,{})}),Object(X.jsx)(z.a,{variant:"h6",className:f.title,children:"\u500b\u4eba\u6a94\u6848\u76f8\u7247"}),Object(X.jsx)(F.a,{className:f.finishButton,color:"inherit",edge:"end",onClick:function(){g()},children:"\u4e0b\u4e00\u6b65"})]})}),Object(X.jsx)("div",{className:f.imgContainer,children:Object(X.jsx)("div",{className:f.cropContainer,children:Object(X.jsx)(je.default,{cropShape:"round",image:a,crop:o,zoom:u,aspect:1,onCropChange:s,onZoomChange:j,onCropComplete:x,onImageLoaded:function(e){console.log(e)}})})})]})},fe=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(7),a.e(46)]).then(a.bind(null,1063))})),Oe=Object(n.lazy)((function(){return a.e(44).then(a.bind(null,1064))})),ye=Object(n.lazy)((function(){return Promise.all([a.e(8),a.e(35)]).then(a.bind(null,1065))})),ve=Object(n.lazy)((function(){return Promise.all([a.e(11),a.e(15)]).then(a.bind(null,1091))})),Ie=Object(n.lazy)((function(){return a.e(26).then(a.bind(null,1068))})),we=Object(n.lazy)((function(){return a.e(48).then(a.bind(null,1069))})),ke=Object(n.lazy)((function(){return a.e(29).then(a.bind(null,1070))})),_e=Object(n.lazy)((function(){return a.e(30).then(a.bind(null,1071))})),Ce=Object(n.lazy)((function(){return a.e(47).then(a.bind(null,1072))})),Te=Object(n.lazy)((function(){return a.e(17).then(a.bind(null,1073))})),Ne=Object(n.lazy)((function(){return Promise.all([a.e(13),a.e(40)]).then(a.bind(null,1088))})),Le=Object(n.lazy)((function(){return a.e(41).then(a.bind(null,1074))})),Me=Object(n.lazy)((function(){return a.e(14).then(a.bind(null,1092))})),Pe=Object(n.lazy)((function(){return a.e(16).then(a.bind(null,1075))})),ze=Object(n.lazy)((function(){return Promise.all([a.e(23),a.e(18)]).then(a.bind(null,1087))})),De=Object(n.lazy)((function(){return a.e(19).then(a.bind(null,1076))})),Se=Object(n.lazy)((function(){return a.e(21).then(a.bind(null,1093))})),Re=Object(n.lazy)((function(){return a.e(45).then(a.bind(null,1094))})),Be=Object(n.lazy)((function(){return a.e(34).then(a.bind(null,1077))})),Ae=Object(n.lazy)((function(){return a.e(22).then(a.bind(null,1078))})),Ve=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(36)]).then(a.bind(null,1079))})),Ge=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(37)]).then(a.bind(null,1086))})),Fe=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(9),a.e(38)]).then(a.bind(null,1080))})),Ue=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(39)]).then(a.bind(null,1081))})),Ee=Object(n.lazy)((function(){return Promise.all([a.e(1),a.e(20)]).then(a.bind(null,1089))})),He=Object(n.lazy)((function(){return Promise.all([a.e(1),a.e(10),a.e(2),a.e(28)]).then(a.bind(null,1095))})),Je=Object(n.lazy)((function(){return Promise.all([a.e(1),a.e(3),a.e(12),a.e(2),a.e(25)]).then(a.bind(null,1090))})),qe=Object(n.lazy)((function(){return Promise.all([a.e(1),a.e(2),a.e(27)]).then(a.bind(null,1082))})),Qe=Object(n.lazy)((function(){return Promise.all([a.e(1),a.e(3),a.e(2),a.e(24)]).then(a.bind(null,1096))})),Xe=[Object(X.jsx)(f.a,{path:"/signin",redirectTo:"/",exact:!0,component:Ne}),Object(X.jsx)(f.a,{path:"/signup",redirectTo:"/",exact:!0,component:fe}),Object(X.jsx)(f.a,{path:"/verify2",redirectTo:"/",exact:!0,component:Le}),Object(X.jsx)(f.a,{path:"/login1_1",redirectTo:"/",exact:!0,component:Ve}),Object(X.jsx)(f.a,{path:"/login1_2",redirectTo:"/",exact:!0,component:Ge}),Object(X.jsx)(f.a,{path:"/register0_1",redirectTo:"/",exact:!0,component:Fe}),Object(X.jsx)(f.a,{path:"/resetPassword",redirectTo:"/",exact:!0,component:Ue}),Object(X.jsx)(f.a,{path:"/password_reset",redirectTo:"/",exact:!0,component:Oe}),Object(X.jsx)(O.d,{path:"/searchPage",exact:!0,component:Me}),Object(X.jsx)(O.d,{path:"/searchQuick/:id",exact:!0,component:Pe}),Object(X.jsx)(O.d,{path:"/searchResult",exact:!0,component:ze}),Object(X.jsx)(O.d,{path:"/personalPage",exact:!0,component:se}),Object(X.jsx)(O.d,{path:"/editAccount",exact:!0,component:ue}),Object(X.jsx)(O.d,{path:"/cropAvatar",exact:!0,component:ge}),Object(X.jsx)(O.d,{path:"/privacyPolicy",exact:!0,component:Re}),Object(X.jsx)(O.d,{path:"/aboutUs",exact:!0,component:Be}),Object(X.jsx)(O.d,{path:"/Home",exact:!0,component:ve}),Object(X.jsx)(O.d,{path:"/about",exact:!0,component:ye}),Object(X.jsx)(O.d,{path:"/collectPage",exact:!0,component:De}),Object(X.jsx)(O.d,{path:"/collectPage2",exact:!0,component:Se}),Object(X.jsx)(O.d,{path:"/columnPage/:id",exact:!0,component:Ae}),Object(X.jsx)(O.d,{path:"/NearByPathway",exact:!0,component:Ee}),Object(X.jsx)(O.d,{path:"/attraction",exact:!0,component:He}),Object(X.jsx)(O.d,{path:"/pathway",exact:!0,component:Je}),Object(X.jsx)(O.d,{path:"/announcement",exact:!0,component:qe}),Object(X.jsx)(O.d,{path:"/trailhead",exact:!0,component:Qe}),Object(X.jsx)(x.a,{path:"/my_account",exact:!0,component:Te}),Object(X.jsx)(x.a,{path:"/home",exact:!0,component:ve}),Object(X.jsx)(x.a,{path:"/dialog_demo",exact:!0,component:Ie}),Object(X.jsx)(x.a,{path:"/toast_demo",exact:!0,component:we}),Object(X.jsx)(x.a,{path:"/filter_demo",exact:!0,component:ke}),Object(X.jsx)(x.a,{path:"/list_page_demo",exact:!0,component:_e}),Object(X.jsx)(x.a,{path:"/tabs_demo",exact:!0,component:Ce})],Ze=a(345),$e=a(350),Ke=a(333),We=a(337),Ye=a(346),et=a(336),tt=a(353),at=a(334),nt=a(348),rt=a(340),ct=a(352),it=a(351),ot=a(344),st=a(349),lt=a(347),dt=a(335),ut=a(341),jt=a(342),bt=a(343),pt=a(114),ht=a.n(pt),mt=a(364),xt=a.n(mt),gt=a(214),ft=a.n(gt),Ot=[{id:"default"},{id:"red",color:ht.a[500],source:{palette:{primary:ht.a,secondary:xt.a,error:ht.a}}},{id:"green",color:ft.a[500],source:{palette:{primary:ft.a,secondary:ht.a,error:ht.a}}}],yt=function(e){var t=e.intl,a=e.updateLocale,n=e.locale,r=e.menuContext,c=e.themeContext,i=e.a2HSContext,o=e.auth,s=r.toggleThis,l=r.isDesktop,d=r.isAuthMenuOpen,u=r.isMiniSwitchVisibility,j=c.themeID,b=c.setThemeID,p=c.isRTL,m=c.toggleThisTheme,x=o.auth,g=o.setAuth,f=i.isAppInstallable,O=i.isAppInstalled,y=i.deferredPrompt,v=h.map((function(e){return{value:void 0,visible:!0,primaryText:t.formatMessage({id:e.locale}),onClick:function(){a(e.locale)},leftIcon:Object(X.jsx)(Ze.a,{})}})),I=x.isAuthenticated,w=Ot.map((function(e){return{value:void 0,visible:!0,primaryText:t.formatMessage({id:e.id}),onClick:function(){b(e.id)},leftIcon:Object(X.jsx)($e.a,{style:{color:e.color}})}}));return d||!I?[{value:"/my_account",primaryText:t.formatMessage({id:"my_account",defaultMessage:"My Account"}),leftIcon:Object(X.jsx)(Ke.a,{})},{value:"/signin",onClick:I?function(){g({isAuthenticated:!1})}:function(){},visible:!0,primaryText:I?t.formatMessage({id:"sign_out"}):t.formatMessage({id:"sign_in"}),leftIcon:I?Object(X.jsx)(We.a,{}):Object(X.jsx)(Ye.a,{})}]:[{value:"/home",visible:I,primaryText:t.formatMessage({id:"home"}),leftIcon:Object(X.jsx)(et.a,{})},{primaryText:t.formatMessage({id:"demos",defaultMessage:"Demos"}),primaryTogglesNestedList:!0,leftIcon:Object(X.jsx)(tt.a,{}),nestedItems:[{value:"/dialog_demo",visible:I,primaryText:t.formatMessage({id:"dialog_demo",defaultMessage:"Dialog"}),leftIcon:Object(X.jsx)(at.a,{})},{value:"/toast_demo",visible:I,primaryText:t.formatMessage({id:"toast_demo",defaultMessage:"Toast"}),leftIcon:Object(X.jsx)(nt.a,{})},{value:"/filter_demo",visible:I,primaryText:t.formatMessage({id:"filter_demo",defaultMessage:"Filter"}),leftIcon:Object(X.jsx)(rt.a,{})},{value:"/list_page_demo",visible:I,primaryText:t.formatMessage({id:"list_page_demo_menu",defaultMessage:"List Page"}),leftIcon:Object(X.jsx)(ct.a,{})},{value:"/tabs_demo",visible:I,primaryText:t.formatMessage({id:"tabs_demo",defaultMessage:"Tabs Page"}),leftIcon:Object(X.jsx)(it.a,{})}]},{value:"/about",visible:!0,primaryText:t.formatMessage({id:"about"}),leftIcon:Object(X.jsx)(ot.a,{})},{divider:!0},{primaryText:t.formatMessage({id:"settings"}),primaryTogglesNestedList:!0,leftIcon:Object(X.jsx)(st.a,{}),nestedItems:[{primaryText:t.formatMessage({id:"theme"}),secondaryText:t.formatMessage({id:j}),primaryTogglesNestedList:!0,leftIcon:Object(X.jsx)($e.a,{}),nestedItems:w},{primaryText:t.formatMessage({id:"language"}),secondaryText:t.formatMessage({id:n}),primaryTogglesNestedList:!0,leftIcon:Object(X.jsx)(Ze.a,{}),nestedItems:v},{visible:!!l,onClick:function(){s("isMiniSwitchVisibility")},primaryText:t.formatMessage({id:"menu_mini_mode"}),leftIcon:u?Object(X.jsx)(lt.a,{}):Object(X.jsx)(dt.a,{})},{onClick:function(){m("isRTL")},primaryText:"".concat(p?"LTR":"RTL"," mode"),leftIcon:p?Object(X.jsx)(ut.a,{}):Object(X.jsx)(jt.a,{})}]},{value:null,visible:f&&!O,onClick:function(){y.prompt()},primaryText:t.formatMessage({id:"install",defaultMessage:"Install"}),leftIcon:Object(X.jsx)(bt.a,{})}]},vt=a(205),It={auth:{signInURL:"/signin"},routes:Xe,locale:{locales:h,defaultLocale:a.n(vt)()(["en","de","ru"],"en"),onError:function(e){}},menu:{getMenuItems:yt},theme:{themes:Ot,defaultThemeID:"red",defaultIsDarkMode:!1,defaultIsRTL:!1},pages:{LandingPage:Object(n.lazy)((function(){return a.e(42).then(a.bind(null,1058))})),PageNotFound:Object(n.lazy)((function(){return a.e(43).then(a.bind(null,1059))}))}},wt=p()(j.a,It),kt=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(X.jsx)(d.a,{config:wt})}}]),a}(n.Component),_t=a(136),Ct=a.n(_t).a.create({baseURL:"https://go-hiking-backend-laravel.herokuapp.com/"});console.log("https://go-hiking-backend-laravel.herokuapp.com/");var Tt={get:function(e){return Object(ne.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ct.get(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},post:function(e,t){return Object(ne.a)(ae.a.mark((function a(){return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ct.post(e,t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}};window.axios=Tt;var Nt=a(76);Object(r.render)(Object(X.jsx)(Nt.BrowserRouter,{children:Object(X.jsx)(kt,{})}),document.getElementById("root"))}},[[530,5,6]]]);
//# sourceMappingURL=main.e764f0fa.chunk.js.map